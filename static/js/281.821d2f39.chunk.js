"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[281],{281:(e,a,n)=>{n.r(a),n.d(a,{default:()=>l});var t=n(43),o=n(722),s=n(250),i=n(579);const l=()=>{const[e,a]=(0,t.useState)(null),[n,l]=(0,t.useState)(!0),[r,c]=(0,t.useState)(""),d=(0,s.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void d("/login");const n=await o.A.get("/api/auth/user",{headers:{Authorization:"Bearer ".concat(e)}});a(n.data),l(!1)}catch(t){var e,n;c((null===(e=t.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Something went wrong"),l(!1),d("/login")}})()}),[d]);return n?(0,i.jsx)("div",{children:"Loading..."}):r?(0,i.jsx)("div",{className:"error-message",children:r}):(0,i.jsxs)("div",{className:"dashboard-container",children:[(0,i.jsxs)("h2",{children:["Welcome, ",null===e||void 0===e?void 0:e.name,"!"]}),(0,i.jsxs)("p",{children:["Email: ",null===e||void 0===e?void 0:e.email]}),(0,i.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),d("/login")},children:"Logout"})]})}}}]);
//# sourceMappingURL=281.821d2f39.chunk.js.map